<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wybierz co zjemy!</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fff9f5;
      color: #333;
      max-width: 600px;
      margin: auto;
      padding: 2rem;
    }
    .question {
      margin-bottom: 2rem;
    }
    button {
      display: block;
      margin: 0.5rem 0;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 8px;
      background-color: #ffd3b6;
      cursor: pointer;
    }
    #backBtn {
      margin-top: 2rem;
      background-color: #ccc;
    }
    .hidden {
      display: none;
    }
    .result {
      font-size: 1.3rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Odpowiedz na pytania i dowiedz siÄ™, co dziÅ› zjemy ğŸ½ï¸</h1>

  <div id="questionContainer" class="question"></div>
  <button id="backBtn" class="hidden">â¬…ï¸ Cofnij</button>

  <script>
    const questions = [
      {
        id: 'poradnia',
        text: 'Kiedy najchÄ™tniej jesz?',
        options: ['Rano', 'PoÅ‚udnie', 'Wieczorem']
      },
      {
        id: 'smak',
        getOptions: (answers) => {
          switch (answers.poradnia) {
            case 'Rano':
              return ['CoÅ› sÅ‚odkiego', 'CoÅ› delikatnego i ciepÅ‚ego', 'Kawa i lekka przekÄ…ska'];
            case 'PoÅ‚udnie':
              return ['CoÅ› konkretnego', 'CoÅ› lekkiego i Å›wieÅ¼ego', 'Kawa i coÅ› sÅ‚onego'];
            case 'Wieczorem':
              return ['CoÅ› na ciepÅ‚o i sycÄ…cego', 'CoÅ› romantycznego i lekkiego', 'Kolacja + kawa/herbata'];
          }
        },
        text: 'Na co masz dziÅ› ochotÄ™?'
      },
      {
        id: 'temperatura',
        text: 'Wolisz coÅ›:',
        options: ['CiepÅ‚ego', 'Zimnego i orzeÅºwiajÄ…cego']
      },
      {
        id: 'nastroj',
        text: 'Jaki masz nastrÃ³j?',
        options: ['ChcÄ™ siÄ™ przytuliÄ‡ do czegoÅ› pysznego ğŸ²', 'Mam ochotÄ™ na coÅ› radosnego i kolorowego ğŸ§']
      }
    ];

    const restauracje = {
      'Rano-CoÅ› sÅ‚odkiego-CiepÅ‚ego-ChcÄ™ siÄ™ przytuliÄ‡ do czegoÅ› pysznego ğŸ²': 'Jaglana â€“ gofry gryczane z owocami ğŸ“',
      'Rano-Kawa i lekka przekÄ…ska-Zimnego i orzeÅºwiajÄ…cego-Mam ochotÄ™ na coÅ› radosnego i kolorowego ğŸ§': 'Sorrir â€“ smoothie bowl i kawa â˜•',
      'PoÅ‚udnie-CoÅ› konkretnego-CiepÅ‚ego-ChcÄ™ siÄ™ przytuliÄ‡ do czegoÅ› pysznego ğŸ²': 'Pizza Naturalna â€“ Margherita na bezglutenowym cieÅ›cie ğŸ•',
      'PoÅ‚udnie-CoÅ› lekkiego i Å›wieÅ¼ego-Zimnego i orzeÅºwiajÄ…cego-Mam ochotÄ™ na coÅ› radosnego i kolorowego ğŸ§': 'BezzboÅ¼ny â€“ saÅ‚atka z komosÄ… ryÅ¼owÄ… ğŸ¥—',
      'Wieczorem-CoÅ› romantycznego i lekkiego-CiepÅ‚ego-ChcÄ™ siÄ™ przytuliÄ‡ do czegoÅ› pysznego ğŸ²': 'TeÅ¼ MoÅ¼na â€“ wegaÅ„ski burger na bezglutenowej buÅ‚ce ğŸ”',
      'Wieczorem-Kolacja + kawa/herbata-Zimnego i orzeÅºwiajÄ…cego-Mam ochotÄ™ na coÅ› radosnego i kolorowego ğŸ§': 'Kafej â€“ ciasto czekoladowe i kawa â˜•'
    };

    let currentIndex = 0;
    const answers = {};
    let history = [];

    const container = document.getElementById('questionContainer');
    const backBtn = document.getElementById('backBtn');

    function renderQuestion() {
      const q = questions[currentIndex];
      container.innerHTML = `<h2>${q.text}</h2>`;

      let options = q.options || (typeof q.getOptions === 'function' ? q.getOptions(answers) : []);
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => {
          answers[q.id] = opt;
          history.push(currentIndex);
          currentIndex++;
          if (currentIndex < questions.length) {
            renderQuestion();
          } else {
            showResult();
          }
        };
        container.appendChild(btn);
      });

      backBtn.classList.toggle('hidden', history.length === 0);
    }

    function showResult() {
      const key = `${answers.poradnia}-${answers.smak}-${answers.temperatura}-${answers.nastroj}`;
      const result = restauracje[key] || 'Ups! CoÅ› poszÅ‚o nie tak. ZrÃ³bmy to jeszcze raz ğŸ’”';
      container.innerHTML = `<div class="result">${result}</div>`;
      backBtn.classList.remove('hidden');
    }

    backBtn.onclick = () => {
      if (history.length > 0) {
        currentIndex = history.pop();
        renderQuestion();
      }
    };

    renderQuestion();
  </script>
</body>
</html>
